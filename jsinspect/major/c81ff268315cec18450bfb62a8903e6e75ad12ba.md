## Paths

[../src/type/matrix/DenseMatrix.js:709,758](#../src/type/matrix/DenseMatrix.js:709,758)  
[../src/type/matrix/SparseMatrix.js:1217,1257](#../src/type/matrix/SparseMatrix.js:1217,1257)  

## Code

### ../src/type/matrix/DenseMatrix.js:709,758

```js
// validate k if any
if (k) {
  // convert BigNumber to a number
  if (isBigNumber(k)) { k = k.toNumber() }
  // is must be an integer
  if (!isNumber(k) || !isInteger(k)) {
    throw new TypeError('The parameter k must be an integer number')
  }
} else {
  // default value
  k = 0
}

const kSuper = k > 0 ? k : 0
const kSub = k < 0 ? -k : 0

// rows and columns
const rows = size[0]
const columns = size[1]

// number of non-zero items
const n = Math.min(rows - kSub, columns - kSuper)

// value extraction function
let _value

// check value
if (isArray(value)) {
  // validate array
  if (value.length !== n) {
    // number of values in array must be n
    throw new Error('Invalid value array length')
  }
  // define function
  _value = function (i) {
    // return value @ i
    return value[i]
  }
} else if (isMatrix(value)) {
  // matrix size
  const ms = value.size()
  // validate matrix
  if (ms.length !== 1 || ms[0] !== n) {
    // number of values in array must be n
    throw new Error('Invalid matrix length')
  }
  // define function
  _value = function (i) {
    // return value @ i
    return value.get([i])
```



### ../src/type/matrix/SparseMatrix.js:1217,1257

```js
  // convert 0 to the same datatype
  zero = typed.convert(0, datatype)
}

const kSuper = k > 0 ? k : 0
const kSub = k < 0 ? -k : 0

// rows and columns
const rows = size[0]
const columns = size[1]

// number of non-zero items
const n = Math.min(rows - kSub, columns - kSuper)

// value extraction function
let _value

// check value
if (isArray(value)) {
  // validate array
  if (value.length !== n) {
    // number of values in array must be n
    throw new Error('Invalid value array length')
  }
  // define function
  _value = function (i) {
    // return value @ i
    return value[i]
  }
} else if (isMatrix(value)) {
  // matrix size
  const ms = value.size()
  // validate matrix
  if (ms.length !== 1 || ms[0] !== n) {
    // number of values in array must be n
    throw new Error('Invalid matrix length')
  }
  // define function
  _value = function (i) {
    // return value @ i
    return value.get([i])
```
